@model MovieDetailsViewModel 

@* back-drop section *@
<div class="hero">
    <img src="https://image.tmdb.org/t/p/original/@Model.Movie.BackdropPath" alt="@Model.Movie.Title Backdrop image"/>
</div>

@* film-details section *@
<div class="container">
    <div class="film-content">
        <aside>
            <div class="poster-card">
                <div class="poster">
                    <img src="https://image.tmdb.org/t/p/original/@Model.Movie.PosterPath" alt="@Model.Movie.Title Poster image"/>
                </div>
                @* social implementaion will do later *@
                <div class="social-movie-stats">
                    <div class="stat">
                        <span>👁</span>
                        <span></span>
                    </div>
                    <div class="stat">
                        <span>❤️</span>
                        <span></span>
                    </div>
                    <div class="stat">
                        <span>⭐</span>
                        <span></span>
                    </div>
                </div>
            </div>

            <div class="watch-section">
                <button class="watch-btn">▶ Trailer</button>
            </div>
        </aside>

        <main class="film-info">
            <h1 class="film-title">@Model.Movie.Title</h1>
            <div class="film-meta">
                <span>@Model.DisplayYear</span>
                <span>@Model.DisplayRunTime</span>
                <span>Directed by @Model.DisplayDirector</span>
            </div>
                
            <div class="tagline">@Model.DisplayTagLine</div>
                
            <p class="synopsis">
                @Model.DisplayOverview
            </p>

            <div class="tabs">
                <div class="tab active">Cast</div>
                <div class="tab">Crew</div>
                <div class="tab">Details</div>
                <div class="tab">Genres</div>
                <div class="tab">Releases</div>
            </div>

            <div class="cast-grid">
                @foreach (var cast in (Model.Cast ?? Array.Empty<CastMember>())
                                                           .OrderBy(c => c.Order)
                                                           .Take(10))
                {
                    <div class="cast-member">
                        <div class="cast-name">@cast.Name</div>
                    </div>
                }
            </div>

            <div class="action-buttons">
                <component 
                    type = "typeof(WatchButton)" 
                    render-mode = "ServerPrerendered"
                    param-MovieId = "@Model.Movie.Id"
                    param-Initial = "false"
                />
                <button class="action-btn">
                    <span>❤️</span>
                    <span>Like</span>
                </button>
                <button class="action-btn">
                    <span>📋</span>
                    <span>Watchlist</span>
                </button>
            </div>

            <div class="ratings-section">
                <div class="user-rating-section">
                    <div class="section-title">Ratings</div>
                    <div class="star-rating">
                        <span class="star">☆</span>
                        <span class="star">☆</span>
                        <span class="star">☆</span>
                        <span class="star">☆</span>
                        <span class="star">☆</span>
                    </div>
                </div>
                <div class="average-rating-section">
                   <div class="rating-display">
                        <div class="rating-score">
                            @* will do later will be the rating of the users in the app *@
                            <span class="score-value">0</span>
                            <span class="score-divider">/</span>
                            <span class="score-max">5</span>
                        </div>

                        <div class="rating-visual">
                            <div class="rating-bars">
                                <div class="bar" style="height: 35%;" data-votes="10: 35%"></div>
                                <div class="bar" style="height: 65%;" data-votes="9: 65%"></div>
                                <div class="bar" style="height: 95%;" data-votes="8: 95%"></div>
                                <div class="bar" style="height: 75%;" data-votes="7: 75%"></div>
                                <div class="bar" style="height: 45%;" data-votes="6: 45%"></div>
                                <div class="bar" style="height: 25%;" data-votes="5: 25%"></div>
                                <div class="bar" style="height: 15%;" data-votes="4: 15%"></div>
                                <div class="bar" style="height: 8%;" data-votes="3: 8%"></div>
                                <div class="bar" style="height: 5%;" data-votes="2: 5%"></div>
                                <div class="bar" style="height: 3%;" data-votes="1: 3%"></div>
                            </div>

                        <div class="votes-info">
                            Based on 1,234 votes
                        </div>
                </div>
            </div>
        </main>
    </div>
</div>
